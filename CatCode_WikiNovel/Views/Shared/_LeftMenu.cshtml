@using CatCode_WikiNovel.Controllers
@using WowSQL
@using WowCore
@using System.Data
@{
    var dt = Methods.GetSettingTable("cbb_TheLoaiTruyen");
    if (dt == null)
    {
        return;
    }
}
 

<!-- Sidebar  -->
<div class="iq-sidebar">
    <div class="iq-sidebar-logo d-flex justify-content-between">
        <a href="#" class="header-logo">
            <img src="/images/logo.png" class="img-fluid rounded-normal" alt="">
            <div class="logo-title">
                <span class="text-primary text-uppercase">Truyện Free</span>
            </div>
        </a>
        <div class="iq-menu-bt-sidebar">
            <div class="iq-menu-bt align-self-center">
                <div class="wrapper-menu open">
                    <div class="main-circle"><i class="las la-bars"></i></div>
                </div>
            </div>
        </div>
    </div>
    <div id="sidebar-scrollbar">
        <nav class="iq-sidebar-menu">
            <ul id="iq-sidebar-toggle" class="iq-menu">
                <li class="active active-menu">
                    <a href="#dashboard" class="iq-waves-effect" data-toggle="collapse" aria-expanded="true"><span class="ripple rippleEffect"></span><i class="las la-home iq-arrow-left"></i><span>Truyện Free</span><i class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                    <ul id="dashboard" class="iq-submenu collapse show" data-parent="#iq-sidebar-toggle">
                        @await Html.PartialAsync(@"LeftMenu\MenuItem.cshtml", new Dictionary<string,string>(){{"text", "Trang chủ"},{"uri", "/"},{"icon", "ri-home-4-fill"}})
                        @await Html.PartialAsync(@"LeftMenu\MenuItem.cshtml", new Dictionary<string,string>(){{"text", "Tìm kiếm"},{"uri", "/Truyen/TimKiem"},{"icon", "ri-search-eye-fill"}})
                        @await Html.PartialAsync(@"LeftMenu\MenuItem.cshtml", new Dictionary<string,string>(){{"text", "Nổi bật"},{"uri", "/Truyen/TimKiem"},{"icon", "ri-search-eye-fill"}})
                        @await Html.PartialAsync(@"LeftMenu\MenuItem.cshtml", new Dictionary<string,string>(){{"text", "Đọc ngay"},{"uri","/Truyen/TimKiem"},{"icon", "ri-book-mark-fill"}})
                        @await Html.PartialAsync(@"LeftMenu\MenuItem.cshtml", new Dictionary<string,string>(){{"text", "Yêu thích"},{"uri", "/Truyen/TimKiem"},{"icon", "ri-heart-fill"}})
                    </ul>
                </li>
                <li>
                    <a href="#userinfo" class="iq-waves-effect" data-toggle="collapse" aria-expanded="false"><span class="ripple rippleEffect"></span><i class="las la-th-list iq-arrow-left"></i><span>Thể loại</span><i class="ri-arrow-right-s-line iq-arrow-right"></i></a>
                    <ul id="userinfo" class="iq-submenu collapse" data-parent="#iq-sidebar-toggle" style="">
                        <li class="menu-the-loai p-1">
                            <div class="row-the-loai row">
                                <div class="cell-the-loai">
                                    <a href="/tim-kiem-truyen" class="p-2">Tất cả</a>
                                </div>
                                @foreach (DataRow drItem in dt.Rows)
                                {
                                    string? title = drItem["title"]?.ToString();

                                    <div class="cell-the-loai">
                                        <a itemprop="url" href="@Methods.GetFullURL(string.Format( "/Truyen/TimKiem?theLoai={0}", drItem["title_url"]))" class="p-2">@Html.Raw(title)</a>
                                    </div>
                                }
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>
</div>